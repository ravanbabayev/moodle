{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_lidio/kyc_verification

    KYC verification form template with HTML form.

    Example context (json):
    {
        "error_message": "There was a problem with your verification.",
        "merchant": {
            "id": 1,
            "fullname": "John Doe"
        },
        "sesskey": "abc123"
    }
}}

<div class="local-lidio-kyc-verification">
    {{#error_message}}
    <div class="alert alert-danger">
        {{{error_message}}}
    </div>
    {{/error_message}}

    <div class="kyc-description">
        <p>{{#str}}kycverification_desc, local_lidio{{/str}}</p>
    </div>
    
    <div class="kyc-form">
        <form action="{{config.wwwroot}}/local/lidio/handlers/kyc_handler.php" method="post" class="mform" enctype="multipart/form-data">
            <input type="hidden" name="sesskey" value="{{sesskey}}">
            <input type="hidden" name="merchantid" value="{{merchant.id}}">
            
            <div class="form-group row">
                <div class="col-md-3">
                    <label for="iddocument" class="col-form-label d-inline">
                        {{#str}}uploadid, local_lidio{{/str}}
                        <span class="text-danger">*</span>
                    </label>
                </div>
                <div class="col-md-9">
                    <input type="file" 
                           class="form-control" 
                           name="iddocument" 
                           id="iddocument" 
                           accept=".jpg,.jpeg,.png,.pdf" 
                           required>
                    <small class="form-text text-muted">{{#str}}uploadid_help, local_lidio{{/str}}</small>
                </div>
            </div>
            
            <div class="form-group row">
                <div class="col-md-3">
                    <label for="addressproof" class="col-form-label d-inline">
                        {{#str}}uploadaddressproof, local_lidio{{/str}}
                        <span class="text-danger">*</span>
                    </label>
                </div>
                <div class="col-md-9">
                    <input type="file" 
                           class="form-control" 
                           name="addressproof" 
                           id="addressproof" 
                           accept=".jpg,.jpeg,.png,.pdf" 
                           required>
                    <small class="form-text text-muted">{{#str}}uploadaddressproof_help, local_lidio{{/str}}</small>
                </div>
            </div>
            
            <div class="form-group row">
                <div class="col-md-3">
                </div>
                <div class="col-md-9">
                    <div class="alert alert-info">
                        <p>{{#str}}kycwarning, local_lidio{{/str}}</p>
                    </div>
                </div>
            </div>
            
            <div class="form-group row">
                <div class="col-md-9 offset-md-3">
                    <button type="submit" class="btn btn-primary">{{#str}}submitmerchantrequirement, local_lidio{{/str}}</button>
                    <a href="{{config.wwwroot}}/local/lidio/merchant.php" class="btn btn-secondary">{{#str}}cancel{{/str}}</a>
                </div>
            </div>
        </form>
    </div>
</div> 